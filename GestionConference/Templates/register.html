{% extends "base.html" %}
{% block content %}
<h2>Cr√©er un nouveau utilisateur</h2>

<form method="post">
  {% csrf_token %}

  {# erreurs globales (ex: mots de passe) #}
  {% if form.non_field_errors %}
    <ul style="color:red">
      {% for err in form.non_field_errors %}<li>{{ err }}</li>{% endfor %}
    </ul>
  {% endif %}

  {# champs + erreurs par champ #}
  {% for field in form %}
    <p>
      {{ field.label_tag }} {{ field }}
      {% if field.errors %}
        <br><small style="color:red">{{ field.errors|striptags }}</small>
      {% endif %}
      {% if field.help_text %}
        <br><small>{{ field.help_text|safe }}</small>
      {% endif %}
    </p>
  {% endfor %}

  <button type="submit">S'inscrire</button>
</form>
{% endblock %}
